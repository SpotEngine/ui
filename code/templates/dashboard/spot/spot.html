{% extends "base/base.html" %}

{% block body %}


<div class="row">
  <div class="col-sm" style="display: none;">
    <div id="symbol-div"></div>
  </div>
  <div class="col-sm-5">
<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="tradingview-widget-container__widget"></div>
  <!-- <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div> -->
  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js" async>
  {
  "symbols": [
    [
      "FX_IDC:EURUSD|1D"
    ]
  ],
  "chartOnly": false,
  "width": "100%",
  "height": "100%",
  "locale": "en",
  "colorTheme": "dark",
  "autosize": true,
  "showVolume": false,
  "showMA": false,
  "hideDateRanges": false,
  "hideMarketStatus": false,
  "hideSymbolLogo": false,
  "scalePosition": "right",
  "scaleMode": "Normal",
  "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",
  "fontSize": "10",
  "noTimeScale": false,
  "valuesTracking": "1",
  "changeMode": "price-and-percent",
  "chartType": "area",
  "maLineColor": "#2962FF",
  "maLineWidth": 1,
  "maLength": 9,
  "headerFontSize": "medium",
  "lineWidth": 2,
  "lineType": 0,
  "dateRanges": [
    "1d|1",
    "1m|30",
    "3m|60",
    "12m|1D",
    "60m|1W",
    "all|1M"
  ]
}
  </script>
</div>
<!-- TradingView Widget END -->


  </div>
  <div class="col-sm-4">
    <!-- <h4>order book</h4> -->
    <div class="row">
      <table id="orderbook"></table>
    </div>
  </div>
  <div class="col-sm-3">    
    
    <form id="order-form">
      <div class="row">
        <table>
          <tbody>
            <tr><td><h6>Balance</h6></td><td></td></tr>
            <tr><td id="base">-</td><td id="quote">-</td></tr>
            <tr><td id="base-balance">0</td><td id="quote-balance">0</td></tr>
          </tbody>
        </table>
      </div>
      <br>
      <div class="row">
        <label for="symbol" class="form-label"><h6>Symbol</h6></label>
        <input class="form-control" id="symbol" placeholder="select symbol" required disabled>
        <br>
      </div>
      <div class="row">
        <label for="side" class="form-label">side</label>
        <select  class="form-select" aria-label="Default select example" id="side">
          <option value="buy">buy</option>
          <option value="sell">sell</option>
        </select>
      </div>
      <div class="row" style="display: none;">
        <label for="type" class="form-label">order type</label>
        <select  class="form-select" aria-label="Default select example" id="type" disabled>
          <option value="limit">limit</option>
          <!-- <option value="market">market</option> -->
        </select>
      </div>
      <div class="row">
        <label for="quantity" class="form-label">quantity</label>
        <input type="number" class="form-control"  min="0" id="quantity" required>
      </div>
      <div class="row">
        <label for="price" class="form-label">price</label>
        <input type="number" class="form-control" id="price" min="0" required>
      </div>
      <div class="row">
        <label for="fee_rebate" class="form-label">fee</label>
        <input type="number" class="form-control" id="fee_rebate" value="0.001" step="0.00001" required>
        <small class="form-text text-muted">
          A positive value if you want to pay fee, a negative value if you want to receive fee.
        </small>
      </div>

      <!-- <div class="row">
        <label for="balance" class="form-label">balance</label>
      </div>   -->
      <br>
      <div class="row alert alert-danger" role="alert" id="non_fields_error_div" style="display: none;">
      </div>
      <div class="row">
        <button class="btn btn-primary" type="submit">Send Order</button>
      </div>
    </from>

  </div>
</div>
<br>
<div>
  <div class="input-group mb-3"></div>
    <select id="account-preview" class="custom-select" onchange="showAccountSpotPreview()">
      <!-- <option value="positions">Positions</option> -->
      <option value="open_orders">Open orders</option>
      <option value="orders_history">Orders History</option>
      <option value="trade_history">Trades</option>
    </select>
  </div>    
    <div>
      <div id="order-div"></div>
      <div id="trade-div"></div>
    </div>
</div>


{% endblock body %}

{% block scriptBlock %}
<script src="/static/js/dashboard/spot/symbol.js?v={{VERSION}}"></script>
<!-- <script src="/static/js/dashboard/spot/position.js?v={{VERSION}}"></script> -->
<script src="/static/js/dashboard/spot/order.js?v={{VERSION}}"></script>
<script src="/static/js/dashboard/spot/trade.js?v={{VERSION}}"></script>
<script src="/static/js/dashboard/spot/spot.js?v={{VERSION}}"></script>

{% endblock scriptBlock %}
